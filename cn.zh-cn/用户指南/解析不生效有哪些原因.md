# 解析不生效有哪些原因？<a name="dns_faq_003"></a>

域名解析不生效的表现是使用ping命令无法获取正确的域名解析IP地址。

解析不生效的原因包括：

-   本地网络故障
-   云解析服务器的解析记录异常
-   域名解析记录在DNS被修改或者缓存

以域名example.com为例，排除解析不生效可采用如下流程：

1.  检查本地网络是否正常。

    ping其他域名，检查域名解析是否生效？

    -   若生效，则排除本地网络问题，请执行[2](#li19989122616311)。
    -   若不生效，则表示本地网络故障，请联系宽带运营商解决网络故障问题。

2.  <a name="li19989122616311"></a>检查域名解析是否生效？
    1.  <a name="li498916261039"></a>在dig命令客户端执行**dig example.com @ns1.hwclouds-dns.com**或者**dig example.com @ns1.hwclouds-dns.net**命令，检查域名解析是否生效？
        -   如果命令执行结果显示解析不生效，请执行[2.b](#li1398952612317)。
        -   如果命令执行结果显示解析生效，表示域名解析在云解析服务器正常，请执行[3](#li1399019268316)。

    2.  <a name="li1398952612317"></a>登陆云解析服务管理控制台，检查解析记录是否存在或状态是否正常？
        -   如果如果解析记录不存在，添加解析记录后，再次执行[2.a](#li498916261039)。
        -   如果解析记录状态异常，删除解析记录并重新添加后，再次执行[2.a](#li498916261039)。
        -   如果解析记录存在且状态正常，请提交工单联系技术支持人员处理。


3.  <a name="li1399019268316"></a>检查域名解析记录是否被修改或者缓存？
    1.  检查域名是否修改过DNS服务器？

        修改DNS服务器需要24小时~48小时生效。

    2.  检查域名记录是否被本地电脑缓存？
        -   Windows操作系统：执行**ipconfig /flushdns**命令刷新DNS缓存。
        -   Linux/Unix操作系统：不会缓存DNS解析记录。

            如果安装了nscd缓存服务，执行**service nscd restart**重启服务刷新缓存。


    3.  检查运营商提供的本地DNS服务器是否缓存了解析记录？

        域名解析记录的缓存时间通常在一个小时之内，之后重新使用ping命令检查解析是否生效。

    4.  检查本地DNS是否被劫持，解析记录是否被修改？

        执行dig example.com@8.8.8.8或者dig example.com@114.114.114.114命令检查公共DNS解析是否生效，建议把本地dns改成公共dns。



